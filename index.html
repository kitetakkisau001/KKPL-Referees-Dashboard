<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KKPL Referees Score Submission Portal</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            padding: 20px;
            background-color: #f4f4f4;
        }
        .container {
            max-width: 600px;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        label, select, input, textarea {
            display: block;
            width: 100%;
            margin-bottom: 10px;
            padding: 8px;
        }
        button {
            background: #28a745;
            color: white;
            padding: 10px;
            border: none;
            cursor: pointer;
        }
        button:hover {
            background: #218838;
        }
    </style>
    <script>
        let submittedMatches = new Set();

        function handleSubmit(event) {
            event.preventDefault();
            const homeTeam = document.getElementById("homeTeam").value;
            const awayTeam = document.getElementById("awayTeam").value;
            const matchKey = homeTeam + " vs " + awayTeam;
            const fileInput = document.getElementById("matchForm");
            
            if (submittedMatches.has(matchKey)) {
                alert("Scores for this match have already been submitted!");
                return;
            }

            // Ensure a file is uploaded
            if (fileInput.files.length === 0) {
                alert("Please upload the official match form before submitting.");
                return;
            }

            // Ensure only PDF files are uploaded
            const file = fileInput.files[0];
            if (file.type !== "application/pdf") {
                alert("Only PDF files are allowed for match form uploads.");
                return;
            }

            submittedMatches.add(matchKey);
            alert("Scores and match form submitted successfully!");
            document.getElementById("scoreForm").reset();
        }
    </script>
</head>
<body>
    <div class="container">
        <h2>KKPL Referees Score Submission Portal</h2>
        <p>This portal is strictly for referees to submit official match results.</p>
        <form id="scoreForm" onsubmit="handleSubmit(event)">
            <label for="refereeName">Referee Name:</label>
            <input type="text" id="refereeName" required>
            
            <label for="matchDate">Match Date:</label>
            <input type="date" id="matchDate" required>
            
            <label for="venue">Match Venue:</label>
            <input type="text" id="venue" required>
            
            <label for="homeTeam">Home Team:</label>
            <select id="homeTeam" required>
                <option value="">Select Home Team</option>
                <option>Kathekani FC</option>
                <option>Kiteta FC</option>
                <option>Kalingile FC</option>
                <option>Wembe FC</option>
                <option>Kyala FC</option>
                <option>Song'eni FC</option>
                <option>Uiini FC</option>
                <option>Mwangaza FC</option>
                <option>Muthwani FC</option>
                <option>Iviani FC</option>
                <option>Katondo FC</option>
                <option>Lung'u FC</option>
            </select>
            
            <label for="awayTeam">Away Team:</label>
            <select id="awayTeam" required>
                <option value="">Select Away Team</option>
                <option>Kathekani FC</option>
                <option>Kiteta FC</option>
                <option>Kalingile FC</option>
                <option>Wembe FC</option>
                <option>Kyala FC</option>
                <option>Song'eni FC</option>
                <option>Uiini FC</option>
                <option>Mwangaza FC</option>
                <option>Muthwani FC</option>
                <option>Iviani FC</option>
                <option>Katondo FC</option>
                <option>Lung'u FC</option>
            </select>
            
            <label for="homeScore">Home Team Score:</label>
            <input type="number" id="homeScore" required>
            
            <label for="awayScore">Away Team Score:</label>
            <input type="number" id="awayScore" required>

            <label for="redCards">Red Cards (if any):</label>
            <input type="text" id="redCards" placeholder="Player details (optional)">
            
            <label for="yellowCards">Yellow Cards (if any):</label>
            <input type="text" id="yellowCards" placeholder="Player details (optional)">
            
            <label for="notes">Extra Notes (Optional):</label>
            <textarea id="notes" rows="3"></textarea>

            <label for="matchForm">Upload Match Form (PDF only):</label>
            <input type="file" id="matchForm" accept="application/pdf" required>

            <button type="submit">Submit Scores</button>
        </form>
    </div>
</body>
</html>
